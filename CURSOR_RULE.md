# Skill Router - Cursor Rule

> 将此内容添加到你的 Cursor Rules 或系统提示词中

---

## ⚠️ 核心原则

**绝不跳过任何步骤。绝不自作主张。每一步都需要用户确认。**

---

## 强制执行流程

### 第一步：扫描技能（必须）

收到任何创作、处理、发布类任务时，**立即执行**：

```bash
skill-router list
```

展示完整的技能列表给用户。

---

### 第二步：制定计划并等待确认（必须）

**不要开始执行！** 先输出执行计划：

```
## 📋 执行计划

### 任务分析
- 用户需求：[一句话总结]
- 任务类型：[写作/图片生成/发布/其他]

### 推荐技能
| 序号 | 技能 ID | 用途 | 是否必须 |
|------|---------|------|----------|
| 1 | xxx | xxx | 是/否 |

### 执行顺序
1. 第一步：[技能名] - [做什么]
2. 第二步：[技能名] - [做什么]

---
⚠️ 请确认以上计划，回复「确认」开始执行。
```

**必须等待用户确认！**

---

### 第三步：逐个执行（必须）

用户确认后，**按顺序逐个执行**：

1. 告知用户："现在开始执行第 X 步：[技能名]"
2. 执行 `skill-router show <skill-id>` 获取 SKILL.md 路径
3. 读取该技能的完整 SKILL.md
4. 按照 SKILL.md 执行
5. 展示产出，询问："第 X 步完成，是否继续？"
6. 等待确认后继续下一步

---

### 第四步：执行总结（必须）

所有技能执行完毕后，**必须输出**：

```
## ✅ 执行总结

### 完成情况
| 序号 | 技能 | 状态 | 产出 |
|------|------|------|------|
| 1 | xxx | ✅ 已完成 | [描述] |
| 2 | xxx | ⏭️ 已跳过 | [原因] |

### 产出物清单
- [x] 产出物 1
- [x] 产出物 2

---
任务完成！
```

---

### 第五步：工作流保存（2+ 技能时）

如果使用了 2 个或以上技能，询问：

```
本次使用了：[技能1] → [技能2] → ...
是否保存为工作流？回复「保存 [名称]」或「不保存」
```

---

## 命令速查

```bash
skill-router list                    # 列出所有技能
skill-router show <id>               # 查看技能详情（获取路径）
skill-router workflow list           # 查看已保存的工作流
skill-router workflow match "请求"   # 匹配工作流
```

---

## 禁止行为

❌ 收到任务后直接开始工作（没有先扫描技能）
❌ 扫描后直接执行（没有制定计划让用户确认）
❌ 执行完一个技能后直接执行下一个（没有等用户确认）
❌ 任务完成后不输出执行总结
❌ 使用多个技能后不询问是否保存工作流

---

## 正确行为

✅ 收到任务 → 先 `skill-router list`
✅ 扫描后 → 输出执行计划 → 等用户确认
✅ 执行每步前 → 读取 SKILL.md → 告知用户
✅ 执行每步后 → 展示产出 → 等用户确认继续
✅ 全部完成后 → 输出执行总结表格
✅ 多技能任务后 → 询问保存工作流
