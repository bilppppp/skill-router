# 安装更多 Skills 不会让 Agent 更强——除非你有这张路由表

## 摘要

- **要点 1**：Skills 的"孤岛效应"——装完就忘，用时靠吼，工具越多人越累
- **要点 2**：借鉴网络路由协议（EIGRP）的思想：让 skills 自描述、可发现、能组合
- **要点 3**：LLM 天然是"软路由器"——能读懂描述、理解意图、做出判断，比硬编码规则更灵活
- **要点 4**：skill-router 提供"两阶段加载"——精简清单省 token，按需读取详情
- **要点 5**：Human-in-the-loop 不是妥协，而是安全阀——让用户确认再执行，避免"最短路径 = 最危险路径"

---

**安装更多 skills 不会让你的 Agent 更强大。**

它只会让你更累。

上周我让 Claude 帮我把一份 PDF 转成 Excel。它说"我没有这个能力"。

我愣了两秒——**我明明装过一个专门干这个的 skill**。

然后我花了 5 分钟翻文件夹，找到那个 skill，手动告诉 Claude 它的存在和用法。任务完成。但我开始想一个问题：

**如果我装了 50 个 skills，我要怎么记住它们？**

更可怕的是，如果 Agent 自己都不知道它有什么能力，那装再多工具有什么用？

这就是我做 skill-router 的原因。

> **阅读承诺**：这篇文章需要 10 分钟。我们将讨论 **6 个核心话题**：skills 为什么会"沉睡"、网络路由协议给我的启发、skill-router 是什么、5 分钟上手指南、节省 token 的进阶技巧、以及我对 Agent 生态未来的一点想法。

---

## 一、诊断：你的 Skills 正在"沉睡"

先做个测试：

> **你能在 30 秒内说出你装了哪些 skills 吗？**

如果你和我一样答不上来，恭喜，你中了"Skills 孤岛效应"。

**什么是孤岛效应？**

Skills 被安装到某个路径后，就像被丢进抽屉的积木——
- 它的能力存在，但对系统整体是"静态的"
- 对其他 skill 是"不可见的"
- 对 Agent 是"除非你显式点名，否则我当它不存在"

你有工具（skills），有工人（Agent），**但缺乏一个自动化的工头**。

于是每次做事，你都得亲口复述装配流程：

> "先用 Skill A 读取邮件，提取附件；然后用 Skill B 对 PDF 做 OCR；再用 Skill C 整理成表格……"

工具越多，流程越长，人的负担越重。

**这就是"人肉路由"。**

---

## 二、灵感：网络世界早就解决了这个问题

有一天我在想：**为什么互联网上的路由器不需要人告诉它"从北京到上海走哪条路"？**

答案是：它们会自己"打招呼"。

### 路由器是怎么工作的？

在网络世界，有一种协议叫 EIGRP。路由器之间会定期发送"Hello 包"，告诉邻居："我在这里，我能到达这些网络"。然后整个网络自动计算出从任意 A 到任意 B 的最佳路径。

**如果 skills 也能这样呢？**

- Skill A 广播："我能读取 Excel，输出 JSON"
- Skill B 广播："我接受 JSON，输出图表"
- Skill C 广播："我接受图表和文本，输出 PDF 报告"

系统在后台自动计算出一条路径：`Excel → JSON → 图表 → 报告`

此时，Agent 不需要知道具体有哪些 skills。它只需要说"我要基于这个 Excel 写个报告"，**路由表会提供计算好的路径**。

### 但 Skills 路由比网络路由更难

| 网络路由 | Skills 路由 |
|---------|------------|
| 数据包是无意义的比特流 | 数据是有语义的结构 |
| 追求"连通性"（能否到达） | 追求"转化性"（能否转成期望输出） |
| 目标明确（IP 地址） | 目标模糊（"写个报告"） |

所以我们不能简单照搬网络协议。但核心思想是一样的：

**我们需要一张"能力图谱"——让每个 skill 自描述、可发现、能组合。**

### 为什么 LLM 天然适合做"路由判断"？

这是关键洞察：

传统路由器靠硬编码的算法计算路径。但 LLM 是"软路由器"——它能：
- **读懂描述**：不需要精确的格式匹配，看一句话就知道这个 skill 干什么
- **理解意图**：用户说"帮我处理这个文件"，它能推断出需要哪些步骤
- **做出判断**：在多个候选 skill 中选择最合适的

**所以我们要做的，不是写一个复杂的匹配算法，而是给 LLM 一张"路由表"让它查。**

**这就是我要做的事：给 Agent 一张"技能目录"，让它自己查表、自己判断、用户确认后执行。**

---

## 三、Skill Router：给 Agent 装一个"技能目录"

基于这个思路，我做了 **skill-router**——一个用于发现、注册和管理 AI Agent Skills 的 CLI 工具。

### 30 秒版本

```
传统方式：用户手动告诉 Agent "先用 Skill A，再用 Skill B"
Skill Router：维护路由表 → Agent 自动查表判断 → 用户确认后执行
```

### 它能做什么？

1. **自动扫描**：找出你电脑上所有已安装的 skills
2. **统一注册**：生成一张 `registry.json` 路由表
3. **导出清单**：输出给 Agent 用的"技能目录"
4. **两阶段加载**：精简版清单 + 按需加载详情（省 token）

### Registry 路由表长什么样？

```json
{
  "skills": [
    {
      "id": "pdf-to-excel",
      "name": "PDF to Excel Converter",
      "description": "将 PDF 表格转换为 Excel 文件",
      "inputs": ["PDF 文件路径"],
      "outputs": ["Excel 文件"],
      "manifest": "~/.skills/pdf-to-excel/SKILL.md"
    }
  ]
}
```

每个 skill 都有 ID、描述、输入、输出、详细说明的路径。Agent 查这张表，就能知道"我有什么能力、每个能力怎么用"。

---

## 四、5 分钟快速上手

**跑完这 5 步，你会得到：**
- 一张包含所有已安装 skills 的路由表
- 一个可以直接复制到 Cursor Rule 的精简清单
- 让 Agent 从此"知道自己有什么能力"

### 第一步：安装

```bash
cd skill-router
npm install
npm link  # 全局安装 CLI
```

### 第二步：初始化——扫描所有 skills

```bash
skill-router init
```

它会自动扫描这些路径：
- `~/.cursor/skills/`
- `~/.agents/skills/`
- `./skills/`（项目目录）
- 以及 20+ 其他常见 skill 存放路径

输出示例：

```
✓ Found 5 skills

Registered skills:
  ✓ three-writers-council (~/.cursor/skills/three-writers-council)
  ✓ humanizer-zh (~/.skills/humanizer-zh)
  ✓ pdf-to-excel (~/.agents/skills/pdf-to-excel)
  ...

Registry saved to: ~/.skill-router/registry.json
```

### 第三步：查看路由表

```bash
skill-router list
```

### 第四步：手动添加漏网之鱼

```bash
skill-router add-path /path/to/my-skill/SKILL.md
```

### 第五步：导出给 Agent

```bash
skill-router export --brief
```

输出一个精简清单，可以直接复制到 Cursor Rule 里。

---

## 五、进阶技巧：两阶段加载省 Token

**问题**：如果你有 100 个 skills，每个 skill 的完整描述有 500 字，那就是 5 万字。全塞进 Agent 上下文？Token 费用爆炸。

**解法**：两阶段加载。

### 第一阶段：精简清单

```bash
skill-router export --brief
```

输出：

```
| ID | 名称 | 简介 |
|----|------|------|
| pdf-to-excel | PDF转Excel | 将PDF表格转换为Excel文件 |
| humanizer-zh | 去AI味 | 去除文本中的AI生成痕迹 |
| three-writers-council | 三人议会 | 三人议会协作打磨公众号长文 |
...
```

**100 个 skills 也只需要 3000-5000 tokens。**

### 第二阶段：按需加载

Agent 根据精简清单判断需要哪个 skill，然后再读取完整的 SKILL.md：

```
Agent: "看起来你需要 humanizer-zh，让我读取它的详细说明..."
      → Read ~/.skills/humanizer-zh/SKILL.md
```

### 自定义简介

如果自动生成的简介不够好：

```bash
skill-router set-brief pdf-to-excel "PDF表格秒变Excel，支持复杂多页"
```

### 项目级 vs 全局

- 全局路由表：`~/.skill-router/registry.json`
- 项目级路由表：`./.skill-router/registry.json`（优先级更高）

用 `-p` 参数操作项目级路由表：

```bash
skill-router init -p  # 只扫描当前项目
```

### 附赠：可直接使用的 Cursor Rule

把下面这段加到你的 Cursor Rule 里：

```markdown
## Skill 路由规则

当用户发出任务指令时，使用两阶段加载判断是否需要调用 skills。

### 当前可用 Skills

| ID | 名称 | 简介 |
|----|------|------|
（从 skill-router export --brief 粘贴）

### 判断流程

1. 根据精简清单，判断是否有匹配的 skill
2. 如果有，先读取该 skill 的完整 SKILL.md
3. 向用户确认后，按照 SKILL.md 的流程执行
```

---

## 六、愿景：从"人肉路由"到"能力图谱"

坦白说，skill-router 目前只完成了"Phase 1：能力索引器"——解决"不知道有什么"的问题。

**未来可能的方向**：

- **Phase 2：路径建议器**——用户描述任务后，自动规划执行路径，展示给用户确认
- **Phase 3：工作流引擎**——高频路径固化为模板，支持自动重试和备用路径切换
- **Phase 4：社区生态**——分享工作流模板、skill 信任评级、最佳实践

但我坚持一个原则：**Human-in-the-loop 不是妥协，而是安全阀。**

在开放的 skill 生态中，恶意 skill 完全可能伪装成"最优选择"来骗取你的数据。如果路由算法只看"快"和"便宜"，最短路径可能就是最危险路径。

**让用户确认再执行，是必要的安全机制。**

---

## 结尾

我相信 Agent 生态的未来是"分布式协作"，而不是"中央集权"。

每一个 skill 都应该是自描述的、可发现的、能组合的。当这张能力图谱足够丰富时，AI Agent 将从"执行指令的机器"进化为"解决问题的有机体"。

**你每装一个 Skill，整个环境都会变得更会做事——不是因为上下文里又多了一段工具说明，而是因为能力图谱真的变丰富了。**

skill-router 是我迈出的第一步。

---

**三个关键点回顾**：
1. Skills 孤岛效应是真实存在的痛点——工具越多，人肉编排的负担越重
2. LLM 天然是"软路由器"，给它一张路由表比写匹配算法更有效
3. 两阶段加载（精简清单 + 按需读取）可以把 100 个 skills 压缩到 5000 tokens 以内

---

**现在轮到你了：**

```bash
skill-router init
```

跑完之后，**截图发到评论区**，我帮你看看有没有被遗忘的宝藏 skill。

顺便告诉我：**如果你现在就有一个"Skill 路由器"，你最想让它帮你自动编排的第一个任务是什么？**

---

## 可拆分内容（适配朋友圈/社群/短内容）

1. 安装更多 skills 不会让你的 Agent 更强大——它只会让你更累。

2. Skills 孤岛效应：装完就忘，用时靠吼，工具越多人越累。

3. 你有工具（skills），有工人（Agent），但缺乏一个自动化的工头。这就是"人肉路由"。

4. 为什么互联网上的路由器不需要人告诉它"从北京到上海走哪条路"？因为它们会自己"打招呼"。

5. LLM 是"软路由器"——能读懂描述、理解意图、做出判断，比硬编码规则更灵活。

6. 我们要做的，不是写一个复杂的匹配算法，而是给 LLM 一张"路由表"让它查。

7. 100 个 skills 的完整描述有 5 万字，全塞进上下文？Token 费用爆炸。两阶段加载只需要 5000 tokens。

8. Human-in-the-loop 不是妥协，而是安全阀。如果路由算法只看"快"和"便宜"，最短路径可能就是最危险路径。

9. Agent 生态的未来是"分布式协作"，而不是"中央集权"。

10. 你每装一个 Skill，整个环境都会变得更会做事——不是因为上下文多了一段说明，而是因为能力图谱真的变丰富了。

---

## 自检清单

- [x] **HKR- Hook**：开篇用"我让 Claude 转 PDF，它说没这能力——但我明明装过"的具体场景勾住好奇
- [x] **HKR- Knowledge**：提供了 EIGRP 类比、LLM 软路由器洞察、两阶段加载技巧、Cursor Rule 模板
- [x] **HKR- Resonance**：戳中"人肉路由"的真实痛苦，"你能在 30 秒内说出装了哪些 skills 吗"引发共鸣
- [x] **可扫读结构**：六个带序号的小标题、短段落、代码块、表格、列表、加粗要点
- [x] **Show, don't tell**：每个观点都有类比（路由器打招呼）、例子（PDF 转 Excel 场景）、证据（命令输出、JSON 示例）
- [x] **活人感/真诚**："坦白说，目前只完成了 Phase 1"承认局限；"我做 skill-router 的原因"有个人视角
- [x] **Dan Koe 结构递进**：诊断→灵感→工具→上手→技巧→愿景，"这就是我要做的事"承上启下
- [x] **强结尾 + CTA**：三点总结 + "截图发评论区" + "你最想编排什么任务"引导互动

---

*—— 由 three-writers-council skill 协作完成，2026.01.23*
